--- src/et.orig/sys/et_linux.c	2011-01-24 22:49:33.000000000 +0000
+++ src/et/sys/et_linux.c	2011-02-11 22:25:31.216375002 +0000
@@ -130,6 +130,9 @@ static int et_poll(struct net_device *de
 static void et_dpc(ulong data);
 #endif /* BCM_NAPI */
 static void et_sendup(et_info_t *et, struct sk_buff *skb);
+#if defined(HAVE_POLL_CONTROLLER) || defined(CONFIG_NET_POLL_CONTROLLER)
+static void et_poll_controller(struct net_device *dev);
+#endif
 
 /* recognized PCI IDs */
 static struct pci_device_id et_id_table[] __devinitdata = {
@@ -274,6 +277,9 @@ et_probe(struct pci_dev *pdev, const str
 	dev->poll = et_poll;
 	dev->weight = (ET_GMAC(et->etc) ? 64 : 32);
 #endif /* BCM_NAPI */
+#if defined(HAVE_POLL_CONTROLLER) || defined(CONFIG_NET_POLL_CONTROLLER)
+	dev->poll_controller = et_poll_controller;
+#endif
 
 	if (register_netdev(dev)) {
 		ET_ERROR(("et%d: register_netdev() failed\n", unit));
@@ -1374,3 +1380,19 @@ et_phywr(et_info_t *et, uint phyaddr, ui
 	et->etc->chops->phywr(et->etc->ch, phyaddr, reg, val);
 	ET_UNLOCK(et);
 }
+
+#if defined(HAVE_POLL_CONTROLLER) || defined(CONFIG_NET_POLL_CONTROLLER)
+static void
+et_poll_controller(struct net_device *dev)
+{
+	et_info_t *et = ET_INFO(dev);
+
+	disable_irq(et->pdev->irq);
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 20)
+	et_isr(et->pdev->irq, et);
+#else
+	et_isr(et->pdev->irq, et, NULL);
+#endif
+	enable_irq(et->pdev->irq);
+}
+#endif
